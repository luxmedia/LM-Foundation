// Foundation by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

@require "_global"

//
// @variables
//

// style the icon-bar and items
$include-html-icon-bar-classes ?=            $include-html-classes
$icon-bar-bg ?=                              $charcoal-1
$icon-bar-font-color ?=                      $white
$icon-bar-font-color-hover ?=                $icon-bar-font-color
$icon-bar-font-size ?=                       1rem
$icon-bar-hover-color ?=                     $primary-color
$icon-bar-icon-color ?=                      $white
$icon-bar-icon-color-hover ?=                $icon-bar-icon-color
$icon-bar-icon-size ?=                       1.875rem
$icon-bar-image-width ?=                     1.875rem
$icon-bar-image-height ?=                    1.875rem
$icon-bar-active-color ?=                    $primary-color
$icon-bar-item-padding ?=                    1.25rem

// set default opacity and cursor for disabled icons.
$icon-bar-disabled-opacity ?=                0.7
$icon-bar-disabled-cursor ?=                 $cursor-disabled-value


//
// @mixins
//

// create the base styles for our Icon bar element.
//
icon-bar-base() {

    width: 100%
    font_size(0)
    display: inline-block

    & > * {
        text-align: center
        font_size($icon-bar-font-size)
        width: 25%
        margin: 0 auto
        display: block
        padding: $icon-bar-item-padding
        float: left

        i,
        img,
        svg {
            display: block
            margin: 0 auto

            & + label {
                margin-top: .0625rem
            }
        }

        i {
            font_size($icon-bar-icon-size)
            vertical-align: middle
        }

        img,
        svg {
            width: $icon-bar-image-width
            height: $icon-bar-image-height
        }
    }

    &--label-right > * {

        i, img, svg {
            margin: 0 .0625rem 0 0
            display: inline-block

            & + label {
                margin-top: 0
            }
        }

        label {
            display: inline-block
        }
    }

    &--vertical.icon-bar--label-right > * {
        text-align: left
    }

    &--vertical, 
    &--small-vertical{
        height: 100%
        width: auto

        .item {
            width: auto
            margin: auto
            float: none
        }
    }

    &--medium-vertical {
        @media $medium-up {
            height: 100%
            width: auto

            .item {
                width: auto
                margin: auto
                float: none
            }
        }
    }
    &--large-vertical {
        @media $large-up {
            height: 100%
            width: auto

            .item {
                width: auto
                margin: auto
                float: none
            }
        }
    }
}

// We use this mixin to create the size styles for icon bars.
icon-bar-size($padding = $icon-bar-item-padding, $font-size = $icon-bar-font-size, $icon-size = $icon-bar-icon-size, $image-width = $icon-bar-image-width, $image-height = $icon-bar-image-height) {

    & > * {
        font_size($font-size)
        padding: $padding

        i,
        img,
        svg {

            & + label {
                margin-top: .0625rem
            }
        }

        i {
            font_size($icon-size)
        }

        img,
        svg {
            width: $image-width
            height: $image-height
        }
    }

}

icon-bar-style($bar-bg = $icon-bar-bg, $bar-font-color = $icon-bar-font-color, $bar-font-color-hover = $icon-bar-font-color-hover, $bar-hover-color = $icon-bar-hover-color, $bar-icon-color = $icon-bar-icon-color, $bar-icon-color-hover = $icon-bar-icon-color-hover, $bar-active-color = $icon-bar-active-color, $base-style = true, $disabled = false) {

    if $base-style {

        background: $bar-bg

        & > * {
            label {
                color: $bar-font-color
            }

            i {
                color: $bar-icon-color
            }
        }

        & > a:hover {

            background: $bar-hover-color

            label {
                color: $bar-font-color-hover
            }

            i {
                color: $bar-icon-color-hover
            }
        }
    }

    if $disabled {
        .item.is-disabled {
            opacity: $icon-bar-disabled-opacity
            cursor: $icon-bar-disabled-cursor
            >* {
                opacity: $icon-bar-disabled-opacity
                cursor: $icon-bar-disabled-cursor
            }
        }
    }

}

// We use this to quickly create icon bars with a single mixin
// $height - The overall calculated height of the icon bar (horizontal)
// $bar-bg - the background color of the bar
// $bar-font-color - the font color
// $bar-hover-color - okay these are pretty obvious variables
// $bar-icon-color - maybe we could skip explaining them all? Okay this one does change icon color if you use an icon font
// $bar-active-color - the color of an active / hover state
// $base-style - Apply base styles? Default: true.
// $disabled - Allow disabled icons? Default: false.

icon-bar($bar-bg = $icon-bar-bg, $bar-font-color = $icon-bar-font-color, $bar-font-color-hover = $icon-bar-font-color-hover, $bar-hover-color = $icon-bar-hover-color, $bar-icon-color = $icon-bar-icon-color, $bar-icon-color-hover = $icon-bar-icon-color-hover, $bar-active-color = $icon-bar-active-color, $padding = $icon-bar-item-padding, $font-size = $icon-bar-font-size, $icon-size = $icon-bar-icon-size, $image-width = $icon-bar-image-width, $image-height = $icon-bar-image-height, $base-style = true, $disabled = false) {
    icon-bar-base()
    icon-bar-size($padding, $font-size, $icon-size, $image-width, $image-height)
    icon-bar-style($bar-bg, $bar-font-color, $bar-font-color-hover, $bar-hover-color, $bar-icon-color, $bar-icon-color-hover, $bar-active-color, $base-style, $disabled)
}


// +exports("icon-bar") {
    if $include-html-icon-bar-classes {
        // toolbar styles
        .icon-bar {
            
            icon-bar()
            
            // Counts
            &--two-up {
                .item {
                    width: 50%
                }
                &.icon-bar--vertical .item, 
                &.icon-bar--small-vertical .item {
                    width: auto
                }
                &.icon-bar--medium-vertical .item {
                    @media $medium-up {
                        width: auto
                    }
                }
                &.icon-bar--large-vertical .item {
                    @media $large-up {
                        width: auto
                    }
                }
            }
            &--three-up {
                .item {
                    width: 33.3333%
                }
                &.icon-bar--vertical .item, 
                &.icon-bar--small-vertical .item {
                    width: auto
                }
                &.icon-bar--medium-vertical .item {
                    @media $medium-up {
                        width: auto
                    }
                }
                &.icon-bar--large-vertical .item {
                    @media $large-up {
                        width: auto
                    }
                }
            }
            &--four-up {
                .item {
                    width: 25%
                }
                &.icon-bar--vertical .item, 
                &.icon-bar--small-vertical .item {
                    width: auto
                }
                &.icon-bar--medium-vertical .item {
                    @media $medium-up {
                        width: auto
                    }
                }
                &.icon-bar--large-vertical .item {
                    @media $large-up {
                        width: auto
                    }
                }
            }
            &--five-up {
                .item {
                    width: 20%
                }
                &.icon-bar--vertical .item, 
                &.icon-bar--small-vertical .item {
                    width: auto
                }
                &.icon-bar--medium-vertical .item {
                    @media $medium-up {
                        width: auto
                    }
                }
                &.icon-bar--large-vertical .item {
                    @media $large-up {
                        width: auto
                    }
                }
            }
            &--six-up {
                .item {
                    width: 16.66667%
                }
                &.icon-bar--vertical .item, 
                &.icon-bar--small-vertical .item {
                    width: auto
                }
                &.icon-bar--medium-vertical .item {
                    @media $medium-up {
                        width: auto
                    }
                }
                &.icon-bar--large-vertical .item {
                    @media $large-up {
                        width: auto
                    }
                }
            }
        }
    }
// }
