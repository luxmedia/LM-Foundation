// Foundation by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

@require "_global"

//
// @variables
//

$include-html-tooltip-classes ?=             $include-html-classes

$has-tip-border-bottom ?=                    dotted 1px $gray-medium-2
$has-tip-font-weight ?=                      inherit // $font-weight-bold
$has-tip-font-color ?=                       $body-font-color
$has-tip-font-color-hover ?=                 $primary-color
$has-tip-border-bottom-hover ?=              dotted 1px $has-tip-font-color-hover
$has-tip-cursor-type ?=                      $cursor-help-value

$tooltip-padding ?=                          rem-calc(12)
$tooltip-bg ?=                               $white
$tooltip-font-size ?=                        1rem // rem-calc(14)
$tooltip-font-weight ?=                      $font-weight-normal
$tooltip-font-color ?=                       $body-font-color
$tooltip-line-height ?=                      1.3
$tooltip-close-font-size ?=                  rem-calc(10)
$tooltip-close-font-weight ?=                $font-weight-normal
$tooltip-close-font-color ?=                 $gray-dark-3
$tooltip-font-size-sml ?=                    1rem // rem-calc(14)
$tooltip-radius ?=                           $global-radius
$tooltip-rounded ?=                          $global-rounded
$tooltip-pip-size ?=                         10px
$tooltip-max-width ?=                        300px
$tooltip-border-width ?=                     2px
$tooltip-border-color ?=                     $gray-base
$tooltip-border-color-highlight ?=           $primary-color
$tooltip-box-shadow ?=                       1px 1px 10px rgba($black,0.5)


// +exports("tooltip") {
    if $include-html-tooltip-classes {

        /* Tooltips */
        .has-tip {
            border-bottom: $has-tip-border-bottom
            cursor: $has-tip-cursor-type
            font-weight: $has-tip-font-weight
            color: $has-tip-font-color

            &:hover,
            &:focus {
                border-bottom: $has-tip-border-bottom-hover
                color: $has-tip-font-color-hover
            }

            &.tip--left,
            &.tip--right {
                float: none !important
            }
        }

        .tooltip {
            display: none
            position: absolute
            z-index: $zindex-tooltip
            font-weight: $tooltip-font-weight
            font_size( $tooltip-font-size)
            line-height: $tooltip-line-height
            padding: $tooltip-padding
            max-width: $tooltip-max-width
            {$default-float}: 50%
            width: 100%
            color: $tooltip-font-color
            background: $tooltip-bg
            border-longhand($width:$tooltip-border-width,$color:$tooltip-border-color)
            border-top-color: $tooltip-border-color-highlight
            box-shadow: $tooltip-box-shadow

            & > .nub {
                display: block
                {$default-float}: $tooltip-pip-size
                position: absolute
                width: 0
                height: 0
                border: solid $tooltip-pip-size
                border-color: transparent transparent $tooltip-border-color-highlight transparent
                top: -($tooltip-pip-size * 2)
                pointer-events: none

                &.rtl {
                    left: auto
                    {$opposite-direction}: $tooltip-pip-size
                }
            }

            &--radius {
                radius($tooltip-radius)
            }
            &--round {
                radius($tooltip-rounded)
                & > .nub {
                    left: 2rem
                }
            }

            &.is-open {
                color: $has-tip-font-color-hover !important
                border-bottom: $has-tip-border-bottom-hover !important
            }
        }

        .tap-to-close {
            display: block
            font_size( $tooltip-close-font-size)
            color: $tooltip-close-font-color
            font-weight: $tooltip-close-font-weight
        }

        @media $small {
            .tooltip {
                & > .nub {
                    border-color: transparent transparent $tooltip-border-color-highlight transparent
                    top: -($tooltip-pip-size * 2)
                }
                &.tip {
                    &--top > .nub {
                        border-color: $tooltip-border-color-highlight transparent transparent transparent
                        top: auto
                        bottom: -($tooltip-pip-size * 2)
                    }
                    
                    &--left,
                    &--right {
                        float: none !important
                    }

                    &--left > .nub {
                        border-color: transparent transparent transparent $tooltip-border-color-highlight
                        right: -($tooltip-pip-size * 2)
                        left: auto
                        top: 50%
                        margin-top: -($tooltip-pip-size)
                    }
                    &--right > .nub {
                        border-color: transparent $tooltip-border-color-highlight transparent transparent
                        right: auto
                        left: -($tooltip-pip-size * 2)
                        top: 50%
                        margin-top: -($tooltip-pip-size)
                    }
                }
            }
        }
    }
// }