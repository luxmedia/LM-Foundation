// Foundation by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

@require "_global"


//
// @mixins
//
// We use this mixin to create a default label base.
label-base() {
    display: inline-block
    position: relative
    margin-bottom: 0
    min-width: 10px
    line-height: 1
    font-weight: $label-font-weight
    font_family($label-font-family)
    text-align: center
    text-decoration: none
    if ($label-text-transform != false) {
        text-transform: $label-text-transform
    }
    vertical-align: baseline
    white-space: nowrap
}

// @mixins
//
// We use this mixin to add label size styles.
// $padding - Used to determine label padding. Default: $label-padding || rem-calc(3 10 4) !default
// $text-size - Used to determine label text-size. Default: $text-size found in settings
label-size($padding = $label-padding, $text-size = $label-font-sizing) {
    if $padding {
        padding: $padding
    }
    if $text-size {
        font_size($text-size)
    }
}

// @mixins
//
// We use this mixin to add label styles.
// $bg - Default: $primary-color (found in settings file)
// $radius - Default: false, Options: true, sets radius to $global-radius (found in settings file)
label-style($bg = $gray-base, $radius = false, $font-color = $label-font-color ) {

    // We control which background color comes through
    if $bg {
        background-color: $bg
        // We control the text color for you based on the background color.
        if ($font-color == $label-font-color) {
            color: (lightness($bg) > 75%) ? $font-color : $label-font-color-alt
        } else {
            color: $font-color
        }
    }

    // We use this to control the radius on labels.
    if ($radius == true) {
        radius($label-radius)
    } else if $radius {
        radius($radius)
    }

}

// @mixins
//
// We use this to add close buttons to alerts
// $padding - Default: $label-padding,
// $text-size - Default: $label-font-sizing,
// $bg - Default: $primary-color(found in settings file)
// $radius - Default: false, Options: true which sets radius to $global-radius (found in settings file)
label($padding = $label-padding, $text-size = $label-font-sizing, $bg = $primary-color, $radius = false) {
    label-base()
    label-size($padding, $text-size)
    label-style($bg, $radius)
}

// +exports("label") {
    if $include-html-label-classes {
        .lbl {
            label-base()
            label-size()
            label-style()

            // Empty badges collapse automatically (not available in IE8)
            &:empty {
                display: none
            }

            // Label Variants
            &--radius {
                label-style(false, true)
            }
            &--round {
                label-style(false, $radius:1000px)
            }

            &--inverted {
                label-style($bg:transparent, $font-color:$gray-base)
            }
            &--success {
                label-style($success-color)
            }
            &--primary {
                label-style($primary-color)
            }
            &--info {
                label-style($info-color)
            }
            &--alert {
                label-style($bg:$alert-color, $font-color:$critical-font-color)
            }
            &--warning {
                label-style($bg:$warning-color, $font-color:$warning-font-color)
            }

            // Badges
            &--badge {
                label-size($padding:$badge-padding)
                label-style(false, $radius:1000px)
            }

            // Hover state, but only for links
            a& {
                &:hover,
                &:focus {
                  color: $badge-hover-color
                  text-decoration: none
                  cursor: pointer
                }
            }

            // Account for badges in navs
            .list-group-item.active > &,
            .nav-pills > .active > a > & {
                color: $badge-active-color
                background-color: $badge-active-bg
            }
            .list-group-item > & {
                float: right
            }
            .list-group-item > & + & {
                margin-right: rem-calc(5)
            }
            .nav-pills > li > a > & {
                margin-left: rem-calc(3)
            }

            // Quick fix for badges in buttons
            .btn & {
                label-style($bg:$white,$font-color:$button-bg-color)
                top: -(rem-calc(2px))
                line-height: 0.8
            }
            .btn--secondary & {
                label-style($bg:$gray-base)
            }
            .btn--secondary:hover & {
                background-color: darken($gray-base, $button-function-factor)
                // color: darken($button-font-color-alt, $button-function-factor)
            }
            .btn--success & {
                label-style($bg:$white,$font-color:$success-color)
            }
            .btn--success:hover & {
                color: darken($success-color, $button-function-factor)
            }
            .btn--info & {
                label-style($bg:$white,$font-color:$info-color)
            }
            .btn--info:hover & {
                color: darken($info-color, $button-function-factor)
            }
            .btn--warning & {
                label-style($bg:$warning-font-color,$font-color:$warning-color)
            }
            .btn--warning:hover & {
                background-color: darken($warning-font-color, $button-function-factor)
                color: darken($warning-color, $button-function-factor)
            }
            .btn--alert & {
                label-style($bg:$critical-font-color,$font-color:$alert-color)
            }
            .btn--alert:hover & {
                background-color: darken($critical-font-color, $button-function-factor)
                color: darken($alert-color, $button-function-factor)
            }

            .btn--small & {
                top: 0
                padding: rem-calc(1 5 1)
            }

        }
    }
// }