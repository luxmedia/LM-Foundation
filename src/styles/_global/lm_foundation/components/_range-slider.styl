// Foundation by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

@require "_global"


//
// @mixins
//

range-slider-bar-base($vertical = false) {
    display: block
    position: relative
    width: $range-slider-bar-width
    height: $range-slider-bar-height
    border: $range-slider-bar-border-width $range-slider-bar-border-style $range-slider-bar-border-color
    margin: rem-calc(20 0)
    -ms-touch-action: none
    touch-action: none
    if ($vertical == true) {
        display: inline-block
        width: $range-slider-vertical-bar-width
        height: $range-slider-vertical-bar-height
    }
}
range-slider-bar-style($bg = true, $radius = false, $round = false, $disabled = false) {
    if ($bg == true) {
        background: $range-slider-bar-bg-color
    }
    if ($radius == true) {
        radius($range-slider-radius)
    }
    if ($round == true) {
        radius($range-slider-round)
    }
    if ($disabled == true) {
        cursor: $cursor-default-value
        opacity: $range-slider-disabled-opacity
    }
}

range-slider-bar($bg = $range-slider-bar-bg-color, $radius = false) {
    range-slider-bar-base()
    range-slider-bar-style()
}

range-slider-handle-base() {
    display: inline-block
    position: absolute
    z-index: 1
    top: -($range-slider-handle-position-top)
    width: $range-slider-handle-width
    height: $range-slider-handle-height
    border-longhand($width:$range-slider-handle-border-width, $style:$range-slider-handle-border-style, $color:$range-slider-handle-border-color)
    cursor: $range-slider-handle-cursor

    // This removes the 300ms touch delay on Windows 8
    -ms-touch-action: manipulation
    touch-action: manipulation
}
range-slider-handle-style($bg = true, $radius = false, $round = false, $disabled = false) {
    if ($bg == true) {
        background: $range-slider-handle-bg-color
    }
    if ($radius == true) {
        radius($range-slider-radius)
    }
    if ($round == true) {
        radius($range-slider-round)
    }
    if ($disabled == true) {
        cursor: $cursor-default-value
        opacity: $range-slider-disabled-opacity
    }
    if ($range-slider-handle-border-width) {
        border-longhand($width:$range-slider-handle-border-width, $style:$range-slider-handle-border-style, $color:$range-slider-handle-border-color)
    }
    if ($range-slider-handle-box-shadow) {
        box-shadow: $range-slider-handle-box-shadow
    }
    &:hover {
        background: $range-slider-handle-bg-hover-color
        if ($range-slider-handle-border-width) {
            border-color: $range-slider-handle-border-color-hover
        }
    }
}
range-slider-handle() {
    range-slider-handle-base()
    range-slider-handle-style()
}

range-slider-label-base() {
    display: inline-block
    position: relative
    top: -($range-slider-handle-height)
    padding: $rang-slider-label-padding
    line-height: $range-slider-handle-height
    font_family($rang-slider-label-font-family)
    font_size($rang-slider-label-font-size)
    font-weight: $rang-slider-label-font-weight
    color: $rang-slider-label-color
    background-color: $rang-slider-label-bg-color
    border: $range-slider-bar-border-width $range-slider-bar-border-style $range-slider-bar-border-color

}
// CSS Generation
// +exports("range-slider-bar") {
    if $include-html-range-slider-classes {
        .range-slider {
            range-slider-bar-base()
            range-slider-bar-style($bg:true, $radius:false)
            &--vertical {
                range-slider-bar-base($vertical: true)
                .range-slider-handle {
                    margin-top: 0
                    margin-{$default-float}: -($range-slider-handle-position-left)
                    // margin-{$default-float}: -($range-slider-handle-width / 4)
                    position: absolute
                    bottom: -($range-slider-vertical-bar-height - $range-slider-handle-width)
                }
                .range-slider-active-segment {
                    width: ($range-slider-bar-height - rem-calc((strip-unit($range-slider-bar-border-width) * 2)))
                    height: auto
                    bottom: 0
                }
            }
            &--radius {
                range-slider-bar-style($radius:true)
                .range-slider-handle {
                    range-slider-handle-style($radius: true)
                }
            }
            &--round {
                range-slider-bar-style($round:true)
                .range-slider-handle {
                    range-slider-handle-style($round: true)
                }
            }
            &.is-disabled,
            &[disabled] {
                range-slider-bar-style($disabled:true)
                .range-slider-handle {
                    range-slider-handle-style($disabled: true)
                }
            }
        }
        .range-slider-active-segment {
            display: inline-block
            position: absolute
            height: ($range-slider-bar-height - rem-calc((strip-unit($range-slider-bar-border-width) * 2)))
            background: $range-slider-active-segment-bg-color
            border: $range-slider-bar-border-width $range-slider-bar-border-style $range-slider-bar-active-border-color
        }
        .range-slider-handle {
            range-slider-handle-base()
            range-slider-handle-style($bg:true, $radius: false)
        }

        .rs-label {
            range-slider-label-base()

            $--end {

            }
        }
    }
// }