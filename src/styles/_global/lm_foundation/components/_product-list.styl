@require "_global"
@require "_buttons"

$product-list-item-height =                     290px
$product-list-item-padding =                    rem-calc(10)
$product-list-item-bg =                         $gray-light-1
$product-list-item-bg-hover =                   $white
$product-list-item-border-width =               2px 0
$product-list-item-border-style =               solid
$product-list-item-border-color =               transparent
$product-list-item-border-hover-color =         $primary-color
$product-list-item-box-shadow-hover =           0 0 10px rgba($black, 0.2)
$product-list-img-bg =                          $white
$product-list-img-padding =                     0
$product-list-img-margin =                      rem-calc(0 10 0)
$product-list-img-height =                      150px
$product-list-title-font-family =               $font-family-buttons
$product-list-title-font-size =                 0.9rem
$product-list-title-color =                     $gray-darker-3
$product-list-title-color-hover =               $primary-color
$product-list-title-font-weight =               $font-weight-bold
$product-list-title-line-height =               1.1
$product-list-title-height =                    rem-calc(2*$product-list-title-line-height*$rem-base)
$product-list-title-margin =                    rem-calc(0 3 0)
$product-list-manu-font-size =                  0.9rem
$product-list-manu-color =                      $gray-dark-1
$product-list-manu-font-weight =                $font-weight-normal
$product-list-manu-height =                     rem-calc($product-list-title-line-height*$rem-base)
$product-list-price-line-height =               1.3
$product-list-pricebox-height =                 rem-calc(2*$product-list-price-line-height*$rem-base)
$product-list-pricebox-padding =                0
$product-list-pricebox-margin =                 rem-calc(0 3 0)
$product-price-old-font-family =                $font-family-body
$product-price-old-font-size =                  0.8rem
$product-price-old-font-weight =                $font-weight-bold
$product-price-old-color =                      $gray-darker-1
$product-price-old-decoration =                 line-through
$product-price-special-font-family =            $font-family-buttons
$product-price-special-font-size =              1.1rem
$product-price-special-font-weight =            $font-weight-bold
$product-price-special-color =                  $primary-color
$product-price-special-decoration =             none
$product-price-minimal-font-size =              $product-price-special-font-size
$product-price-label-font-weight =              $font-weight-normal
$product-price-label-font-size =                0.8rem // scale factor based on related price
$product-price-label-text-transform =           uppercase
$product-list-button-size =                     rem-calc(22) // needed for container height calculation. 20 = tiny button, 27 = small button

.productlist {
    
    &--grid {
        
        // List item
        .product {
            position: relative
            height: round( (1.5*$product-list-item-padding) + rem-calc($product-list-img-height) + $product-list-img-margin[0] + $product-list-img-padding[0] + $product-list-manu-height + $product-list-title-height + $product-list-title-margin[0] + $product-list-pricebox-height + (2*$product-list-pricebox-margin[0]) + $product-list-button-size )
            list-style-type: none
            margin: 0
            padding: $product-list-item-padding
            background-color: $product-list-item-bg
            if ($product-list-item-border) {
                border-longhand($width:$product-list-item-border-width,$style:$product-list-item-border-style,$color:$product-list-item-border-color)
            }
            col(1/4, $cycle:4)
            z-index: 1

            &:hover {
                background-color: $product-list-item-bg-hover
                overflow: visible
                border-color: $product-list-item-border-hover-color
                if $product-list-item-box-shadow {
                    box-shadow: $product-list-item-box-shadow-hover
                }
                single-transition($speed:300ms)
            }

            // Images
            a &__img,
            &__img {
                display: block
                background: $product-list-img-bg
                padding: $product-list-img-padding
                margin: $product-list-img-margin
                margin-top: 0
                text-align: center

                img {
                    padding: 0
                    margin: 0
                    width: auto
                    height: $product-list-img-height
                    border: none
                }
            }

            // Product Manufacturer (optional)
            &__manufacturer {
                display: block
                padding: 0
                margin: 0
                height: $product-list-manu-height
                line-height: $product-list-title-line-height
                overflow: hidden
                color: $product-list-manu-color
                font-family: $product-list-title-font-family
                fontSize($product-list-manu-font-size)
                font-weight: $product-list-manu-font-weight
            }

            // Product title
            a .product__title,
            &__title {
                display: block
                margin: $product-list-title-margin
                padding: 0
                height: $product-list-title-height
                line-height: $product-list-title-line-height
                color: $product-list-title-color
                font-family: $product-list-title-font-family
                fontSize($product-list-title-font-size)
                font-weight: $product-list-title-font-weight
                text-decoration: none
                overflow: hidden
            }
            a:hover .product__title {
                color: $product-list-title-color-hover
                single-transition(color,$ease:ease)
            }

            // Prices
            .price-box {
                font-family: $font-family-buttons
                text-align: right
                padding: $product-list-pricebox-padding
                margin: $product-list-pricebox-margin
                height: $product-list-pricebox-height

                .price {
                    display: block
                    line-height: $product-list-price-line-height

                    &--special,
                    &--minimal {
                        font-family: $product-price-special-font-family
                        fontSize($product-price-special-font-size)
                        font-weight: $product-price-special-font-weight
                        color: $product-price-special-color
                        text-decoration: $product-price-special-decoration
                    }
                    &--old {
                        font-family: $product-price-old-font-family
                        fontSize($product-price-old-font-size)
                        font-weight: $product-price-old-font-weight
                        color: $product-price-old-color
                        text-decoration: $product-price-old-decoration
                    }

                    // Price labels (e.g. uvp, from)
                    &__label {
                        margin-right: rem-calc(4)
                        fontSize($product-price-label-font-size) // Fallback font size
                        font-weight: $product-price-label-font-weight
                        text-transform: $product-price-label-text-transform
                        &--uvp { }
                        &--special,
                        &--minimal { }
                    }
                }

            }

            // Buttons
            .btn {
                expand()
                margin-bottom: 0
                &__details {
                    background-image svgurl('./src/svg/arrows_right.svg') svg($svg-linea-icons-base-dimensions, $svg-linea-icons-base-params, polyline stroke $gray-dark-1)
                    &:hover {
                        background-image svgurl('./src/svg/arrows_right.svg') svg(polyline stroke $white, $svg-linea-icons-base-params)
                    }
                }
            }

            .ribbon {
                top: $product-list-item-padding
            }

            // sorty ribbons if we have more than one ribbon
            &--special.product--new {
                .ribbon--primary,
                .ribbon--special {
                    top: ($product-list-item-padding + rem-calc(32))
                }
            }
        }
    }

}