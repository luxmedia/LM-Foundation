// Foundation by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

@require "_global"


//
// Breadcrumb Mixins
//

// We use this mixin to create a container around our breadcrumbs
crumb-container() {
    display: block
    padding: $crumb-padding
    overflow: hidden
    margin-{$default-float}: 0
    list-style: none
    if ($crumb-border-size) {
        border-style: $crumb-border-style
        border-width: $crumb-border-size
        border-color: $crumb-border-color
    }

    background-color: $crumb-bg
}

// We use this mixin to create breadcrumb styles from list items.
crumbs() {

    // A normal state will make the links look and act like clickable breadcrumbs.
    margin: 0
    float: $default-float
    font_size($crumb-font-size)
    line-height: $crumb-font-size
    text-transform: $crumb-font-transform
    color: $crumb-font-color

    &:hover a,
    &:focus a { 
        text-decoration: $crumb-link-decor
    }

    a {
        font-weight: $crumb-font-weight
        color: $crumb-font-color
    }

    // Current is for the link of the current page
    &.is-current {
        color: $crumb-font-color-current
        cursor: $cursor-default-value
        a {
            font-weight: $crumb-font-weight-current
            color: $crumb-font-color-current
            cursor: $cursor-default-value
        }

        &:hover,
        &:hover a,
        &:focus,
        &:focus a {
            text-decoration: none
        }
    }

    // Unavailable removed color and link styles so it looks inactive.
    &.is-unavailable {
        color: $crumb-font-color-unavailable
        a {
            color: $crumb-font-color-unavailable
        }

        &:hover,
        &:hover a,
        &:focus,
        a:focus {
            text-decoration: none
            color: $crumb-font-color-unavailable
            cursor: $cursor-default-value
        }
    }

    &:before {
        content: $crumb-slash
        color: $crumb-slash-color
        margin: 0 $crumb-side-padding
        position: relative
        top: 1px
    }

    &:first-child:before {
        content: " "
        margin: 0
    }
}

// +exports("breadcrumbs") {
    if $include-html-nav-classes {
        .breadcrumbs {
            crumb-container()
            if($crumb-radius) {
                radius($crumb-radius)
            }

            // & > * {
            & > li {
                crumbs()
            }
        }
    }
// }

/* Accessibility - hides the forward slash */
[aria-label="breadcrumbs"] [aria-hidden="true"]:after {
    content: "/"
}
