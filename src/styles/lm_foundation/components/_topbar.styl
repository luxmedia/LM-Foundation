// Foundation by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

@require '_global'
@require '_grid'
@require '_buttons'
@require '_forms'

//
// @variables
//

$include-html-topbar-classes =               com_js.TOPBAR

// Background color for the top bar
$topbar-wrap-bg ?=                           $charcoal-1
$topbar-bg-color ?=                          $charcoal-1
$topbar-bg ?=                                $topbar-bg-color

// Height and margin
$topbar-height ?=                            rem-calc(45)
$topbar-margin-bottom ?=                     0

// Controlling the styles for the title in the top bar
$topbar-logo-font-family ?=                  $font-family-headings
$topbar-logo-font-weight ?=                  $font-weight-bold
$topbar-logo-font-size ?=                    fontsize(1.2rem)
$topbar-logo-font-color ?=                   $white
$topbar-logo-font-color-hover ?=             $white
$topbar-logo-text-transform ?=               uppercase
$topbar-logo-bg ?=                           $primary-color
$topbar-logo-bg-hover ?=                     darken($primary-color, 10%)
$topbar-logo-padding ?=                      rem-calc(0 10)
$topbar-logo-height ?=                       $topbar-height

$topbar-link-hover-lightness ?=              -(15%)

// Set the link colors and styles for top-level nav
$topbar-link-color ?=                        $white
$topbar-link-color-hover ?=                  $white
$topbar-link-color-active ?=                 $white
$topbar-link-color-active-hover ?=           $white
$topbar-link-weight ?=                       $font-weight-bold
$topbar-link-font-size ?=                    fontsize(.8rem)
$topbar-link-bg ?=                           $topbar-bg-color
$topbar-link-bg-hover ?=                     scale-color($topbar-link-bg, $topbar-link-hover-lightness)
$topbar-link-bg-active ?=                    $primary-color
$topbar-link-bg-active-hover ?=              scale-color($primary-color, $topbar-link-hover-lightness)
$topbar-link-font-family ?=                  $font-family-custom
$topbar-link-text-transform ?=               uppercase
$topbar-link-padding ?=                      ($topbar-height/3)
$topbar-back-link-size ?=                    fontsize(1.3rem)
$topbar-link-dropdown-padding ?=             rem-calc(20)

$topbar-button-top ?=                        rem-calc(4)
$topbar-button-font-size ?=                  fontsize(1rem)
$topbar-input-height ?=                      ($topbar-height - (2 * $topbar-button-top))
$topbar-button-search-width ?=               rem-calc(40)
$topbar-button-search-border ?=              false // 1px solid darken($input-bg-color,10%)
$topbar-button-search-bg-color ?=            $primary-color
$topbar-button-search-bg-color-hover ?=      scale-color($primary-color, $topbar-link-hover-lightness)
$topbar-button-search-svg-color ?=           $gray-dark-1
$topbar-button-search-svg-color-hover ?=     $primary-color
$topbar-button-search-svg-stroke-width ?=    $svg-stroke-width-small
$topbar-input-border-width ?=                false // 1px 0 0 1px
$topbar-input-border-color ?=                darken($topbar-bg-color, 20%)
$topbar-button-font-size ?=                  fontsize(.8rem)

$topbar-site-search-padding ?=               $topbar-button-top // ($topbar-button-top (3 * $topbar-button-top))
$topbar-site-search-input-height ?=          ($topbar-height - (2 * $topbar-site-search-padding[0]))
$topbar-site-search-font-size ?=             fontsize(1rem)
$topbar-site-search-font-color ?=            $black
$topbar-site-search-text-transform ?=        lowercase
$topbar-site-search-svg-bg ?=                'lm/00084-search_2.svg'
$topbar-site-search-svg-bg-shapes ?=         ('circle' 'line' 'rect')

// Style the top bar dropdown elements
$topbar-dropdown-bg ?=                       $topbar-link-bg-hover
$topbar-dropdown-link-color ?=               $white
$topbar-dropdown-link-color-hover ?=         $primary-color
$topbar-dropdown-link-bg ?=                  $topbar-dropdown-bg
$topbar-dropdown-link-bg-hover ?=            scale-color($topbar-dropdown-link-bg, $topbar-link-hover-lightness)
$topbar-dropdown-link-padding ?=             rem-calc(6 20)
$topbar-dropdown-link-weight ?=              $font-weight-bold
$topbar-dropdown-toggle-size ?=              5px
$topbar-dropdown-toggle-color ?=             blend(rgba($white, .7), $topbar-bg-color) // rgba($white, .75)
$topbar-dropdown-toggle-color-hover ?=       $white

$topbar-dropdown-label-color ?=              lighten($topbar-link-bg, 30%)
$topbar-dropdown-label-text-transform ?=     uppercase
$topbar-dropdown-label-font-weight ?=        $font-weight-bold
$topbar-dropdown-label-font-size ?=          fontsize(0.8rem)
$topbar-dropdown-label-bg ?=                 false // transparent

// Top menu icon styles
$topbar-menu-link-transform ?=               uppercase
$topbar-menu-link-font-size ?=               fontsize(1rem)
$topbar-menu-link-weight ?=                  $font-weight-bold
$topbar-menu-link-color ?=                   $white
$topbar-menu-icon-color ?=                   $white
$topbar-menu-link-color-toggled ?=           $gray-dark-2
$topbar-menu-icon-color-toggled ?=           $topbar-menu-link-color
$topbar-menu-icon-position ?=                $opposite-direction

// Transitions and breakpoint styles
$topbar-transition-speed ?=                  .3s

// Navbar collapse
// Using rem-calc for the below breakpoint causes issues with top bar
$topbar-breakpoint ?=                        $medium-min // Change to 9999px for always mobile layout
$topbar-media-query ?=                       $medium-up

// Divider Styles
$topbar-divider-border-bottom ?=             solid 1px lighten($topbar-bg-color, 13%)
$topbar-divider-border-top ?=                solid 1px darken($topbar-bg-color, 50%)

// Sticky Class
$topbar-sticky-class ?=                      '.sticky'
$topbar-arrows ?=                            true //Set false to remove the triangle icon from the menu item
$topbar-dropdown-arrows ?=                   true //Set false to remove the \00bb >> text from dropdown subnavigation li// 

$topbar-shadow-elevation ?=                 'appbar' // false

//
// @mixins
//

// Accessibility mixins for hiding and showing the menu dropdown items
topbar-hide-dropdown() {
    // Makes an element visually hidden by default, but visible when focused.
    element-invisible()
    display: block
}

topbar-show-dropdown() {
    element-invisible-off()
    display: block
    position: absolute !important // Reset the position from static to absolute
}


//
// @styles
//

// Used to provide media query values for javascript components.
// This class is generated despite the value of $include-html-topbar-classes
// to ensure width calculations work correctly.
meta.foundation-mq-topbar {
    font-family: ('/' + unquote($topbar-media-query) + '/')
    width: $topbar-breakpoint
}

if $include-html-topbar-classes {

    /* Wrapped around .topbar to contain to grid width */
    .contain-to-grid {
        background: $topbar-wrap-bg
        width: 100%

        .topbar {
            // grid-row()
            margin-bottom: $topbar-margin-bottom
        }
    }

    // Wrapped around .topbar to make it stick to the top
    .topbar__wrap {
        background: $topbar-wrap-bg
        if ($topbar-shadow-elevation) {
            shadow-elevation($topbar-shadow-elevation)
        }

        &--fixed {
            position: fixed
            top: 0
            width: 100%
            z-index: $zindex-navbar-fixed
            {$default-float}: 0

            &.expanded:not(.topbar) {
                height: auto
                max-height: 100%
                overflow-y: auto
                width: 100%

                .logo-wrap {
                    position: fixed
                    width: 100%
                    z-index: $zindex-navbar-fixed
                }
                // Ensure you can scroll the menu on small screens
                .topbar-section {
                    margin-top: $topbar-height
                    z-index: ($zindex-topbar - 1)
                }
            }
        }
    }
    // EOF - .topbar__wrap

    // Main top nav section
    .topbar {
        clearfix()
        background: $topbar-bg
        height: $topbar-height
        line-height: $topbar-height
        margin-bottom: $topbar-margin-bottom
        // overflow: hidden
        position: relative
        
        // Topbar Global list Styles
        ul {
            margin-bottom: 0
            list-style: none
        }

        form,
        input,
        select {
            margin-bottom: 0
        }

        select,
        input[type='text'],
        input[type='password'],
        input[type='search'] {
            // if ($topbar-input-border-width) {
            //     border-color: $topbar-input-border-color
            //     border-width: $topbar-input-border-width
            // } else {
            //     border: none
            // }
            // box-shadow: none
            // box-sizing: border-box
            // font-size: $topbar-button-font-size
            height: $topbar-input-height
            padding-top: remify(.35rem)
            padding-bottom: @padding-top
            position: relative
        }

        .btn,
        button {
            margin-bottom: 0

            // Corrects a slight misalignment when put next to an input field
            +mediaquery($small-only) {
                position: relative
            }
        }

        // Title Area
        .logo-wrap {
            position: relative
            margin: 0
        }

        .logo {
            font-size: $topbar-logo-font-size
            height: $topbar-logo-height
            margin: 0
            if ($topbar-menu-icon-position == $default-float) {
              float: $opposite-direction
            }

            // h1, h2, h3, h4, p, span {
            // logo should be in a plain div or header tag
            div,
            header {
                display: block
                font-size: $topbar-logo-font-size
                // line-height: $topbar-logo-height
                margin: 0
                text-align: center
                a {
                    background-color: $topbar-logo-bg
                    color: $topbar-logo-font-color
                    display: block
                    fontweight($topbar-logo-font-weight)
                    font_family($topbar-logo-font-family)
                    height: $topbar-logo-height
                    line-height: $topbar-logo-height
                    padding: $topbar-logo-padding
                    text-transform: $topbar-logo-text-transform

                    &:hover {
                        color: $topbar-logo-font-color-hover
                        if $topbar-logo-bg-hover {
                            background-color: $topbar-logo-bg-hover
                            single-transition(background-color)
                        }
                    }

                    img {
                        max-height: 100%
                    }
                }
            }
        }

        // search form in topbar
        .site-search {
            padding: $topbar-site-search-padding
            
            input[type="text"],
            input[type="search"] {
                background-color: $white
                color: $topbar-site-search-font-color
                font-size: $topbar-site-search-font-size
                height: $topbar-site-search-input-height
                padding-{$default-float}: rem-calc(15)
                padding-{$opposite-direction}: ($topbar-button-search-width + rem-calc(6))
                text-transform: $topbar-site-search-text-transform
                // border: none
                width: 100%
            }
            .btn,
            button {
                top: auto
                float: $opposite-direction
                width: $topbar-button-search-width
                height: $topbar-site-search-input-height
                margin-top: -($topbar-site-search-input-height) // move in line with search field

                // background-color: $topbar-button-search-bg-color
                if $topbar-button-search-border {
                    border-{$default-float}: $topbar-button-search-border
                } else {
                    border: none
                }

                // &:focus,
                // &:hover {
                //     background-color: $topbar-button-search-bg-color-hover
                // }

                &.is-icononly {
                    padding: 0

                    &:hover {
                        background-color: $topbar-button-search-bg-color-hover !important
                    }
                }

                .i {
                    margin-top: 0
                }
            }
        }

        // Menu toggle button on small devices
        .toggle-topbar {
            position: absolute
            {$topbar-menu-icon-position}: 0
            top: 0

            a {
                color: check_contrast($topbar-link-color, $topbar-bg-color)
                display: block
                font-size:$topbar-menu-link-font-size
                fontweight($topbar-menu-link-weight)
                height: $topbar-height
                line-height: $topbar-height
                min-width: $topbar-height
                padding: 0 $topbar-link-padding
                position: relative
                text-transform: $topbar-menu-link-transform
            }

            // Adding the class "menu-icon" will add the 3-line icon people love and adore.
            &.menu-icon {
                top: 50%
                margin-top: -(16px)

                a {
                    // @include hamburger icon
                    hamburger(16px, false, 0, 1px, 6px, $topbar-menu-icon-color, '', false)

                    if ($text-direction == rtl) {
                        text-indent: -(58px)
                    }
                    color: check_contrast($topbar-menu-link-color, $topbar-bg-color)
                    height: 34px
                    line-height: 33px
                    padding: 0 rem-calc(($topbar-link-padding + 25)) 0 $topbar-link-padding
                    position: relative
                }
            }
        }

        // Change things up when the topbar is expanded
        &.expanded {
            background-color: transparent
            height: auto

            .logo-wrap {
                background-color: $topbar-logo-bg
            }

            .toggle-topbar {
                a {
                    color: $topbar-menu-link-color-toggled
                    span::after {
                        // Shh, don't tell, but box-shadows create the menu icon :)
                        // Change the color of the bars when the menu is expanded, using given thickness from hamburger() above
                        box-shadow: 0 0 0 1px $topbar-menu-icon-color-toggled, 0 7px 0 1px $topbar-menu-icon-color-toggled, 0 14px 0 1px $topbar-menu-icon-color-toggled
                    }
                }
            }

            // Fixes an issue with Desktop and Mobile Safari where deeply-nested menus don't appear
            @media screen and (-webkit-min-device-pixel-ratio:0) {
                .topbar-section {
                    .has-dropdown.is-moved > .dropdown,
                    .dropdown {
                        clip: initial
                    }

                    // This was needed as parent ul's had padding, and the clip: was allowing content to peak through
                    .has-dropdown:not(.is-moved) > ul {
                        padding: 0
                    }
                }
            }
        }
    }
    // EOF - .topbar

    // Right and Left Navigation that stacked by default
    .topbar-section {
        position: relative
        // width: auto
        {$default-float}: 0
        single-transition($default-float, $topbar-transition-speed)

        ul {
            display: block
            height: auto
            margin: 0
            padding: 0
            width: 100%
        }

        .divider,
        [role="separator"] {
            border-top: $topbar-divider-border-top
            clear: both
            height: 1px
            width: 100%
        }

        > ul {
            display: inline
            width: auto

            // FIRST NAV LEVEL
            > li {
                float: $default-float
                > a {
                    color: check_contrast($topbar-link-color, $topbar-bg-color)
                    display: block
                    font-size:$topbar-link-font-size
                    fontweight($topbar-link-weight)
                    font_family($topbar-link-font-family)
                    padding-{$default-float}: $topbar-link-padding
                    padding: rem-calc(12 0)
                    text-transform: $topbar-link-text-transform
                    
                    single-transition(background-color)

                    &.btn {
                        font-size: $topbar-link-font-size
                        padding-{$default-float}: $topbar-link-padding
                        padding-{$opposite-direction}: $topbar-link-padding
                        button-style($primary-color)
                        
                        if $include-primary-2-color-styles {
                            &--primary-2 {
                                button-style($bg:$primary-2-color)
                            }
                        }
                        &--secondary {
                            button-style($bg:$secondary-color)
                        }
                        &--info {
                            button-style($bg:$info-color)
                        }
                        &--success {
                            button-style($bg:$success-color)
                        }
                        &--warning {
                            button-style($bg:$warning-color, $font-color:$warning-font-color)
                        }
                        &--alert {
                            button-style($bg:$alert-color, $font-color:$critical-font-color)
                        }
                    }
                }

                .title--sml {
                    font-size: fontsize(.7rem)
                }

                > button {
                    // font-size: $topbar-link-font-size
                    padding-{$default-float}: $topbar-link-padding
                    padding-{$opposite-direction}: $topbar-link-padding
                }

                > input,
                > select,
                > button,
                > .btn {
                    font-size: $topbar-button-font-size
                    height: $topbar-input-height
                    line-height: $topbar-input-height
                    padding-bottom: 0
                    padding-top: 0
                    position: relative
                    top: $topbar-button-top
                }

                &:not(.has-form) {
                    > a:not(.btn) {
                        if ($topbar-link-bg != $topbar-bg-color) {
                            background-color: $topbar-link-bg
                        }
                        line-height: $topbar-height
                        padding: 0 $topbar-link-padding
                        
                        +mediaquery($small-only) {
                            padding: 0 rem-calc(11)
                        }

                        &:hover {
                            if ($topbar-link-bg-hover != $topbar-bg-color) {
                                background-color: $topbar-link-bg-hover
                            }
                        }
                        .lbl--badge {
                            margin-{$default-float}: rem-calc(4)
                        }
                    }
                }

                // Apply the hover link color when it has that class
                &.is-hover:not(.has-form) > a:not(.btn),
                &:hover:not(.has-form) > a:not(.btn) {
                    if ($topbar-link-bg-hover != $topbar-bg-color) {
                        background-color: $topbar-link-bg-hover
                    }
                    color: check_contrast($topbar-link-color-hover, $topbar-link-bg-hover)
                }

                // Apply the active link color when it has that class
                &.is-active > a:not(.btn) {
                    if ($topbar-link-bg-active != $topbar-bg-color) {
                        background-color: $topbar-link-bg-active
                    }
                    if ($topbar-link-color-active != $topbar-link-color) {
                        color: $topbar-link-color-active
                    }
                    // line-height: $topbar-height
                    // padding: 0 $topbar-link-padding
                    &:hover {
                        background-color: $topbar-link-bg-active-hover
                        color: $topbar-link-color-active-hover
                    }
                }

                // 2nd Second Level = Dropdown
                li,
                &.is-active li {
                    // give last item a little bottom space
                    &:last-child {
                        margin-bottom: rem-calc(4)
                    }
                    a:not(.btn) {
                        line-height: 1.4
                        padding-bottom: rem-calc(4)
                        padding-top: rem-calc(4)
                    }
                }
            }

            > .divider,
            > [role='separator'] {
                border-bottom: none
                border-top: none
                border-{$opposite-direction}: $topbar-divider-border-bottom
                clear: none
                height: $topbar-height
                width: 0
            }
        }

        // Add some extra padding for list items contains buttons
        .has-form {
            background-color: $topbar-link-bg-hover
            padding: $topbar-link-padding
        }

        // Styling for list items that have a dropdown within them.
        .has-dropdown {
            position: relative

            // Show Arrow only for medium-up breakpoints
            // if ($topbar-arrows){
            //     > a {
            //         svg-background($file:'lm/00015-down.svg', $shapes:('polyline' 'polygon'), $stroke:$topbar-dropdown-toggle-color, $stroke-hover:$topbar-dropdown-toggle-color-hover, $stroke-width:$svg-stroke-width-small)
            //     }
            // }
            if ($topbar-arrows){
                > a {
                    background-image: none
                }
            }

            &.is-moved {
                position: static
                > .dropdown {
                    topbar-show-dropdown()
                    width: 100%
                }
                > a:after {
                    display: none
                }
            }
        }

        // Styling elements inside of dropdowns
        // 2nd Level
        .dropdown {
            topbar-hide-dropdown()
            shadow-elevation('menu')
            background-color: $topbar-dropdown-bg
            padding: 0
            position: absolute
            top: 0
            z-index: $zindex-dropdown
            {$default-float}: 100%

            li {
                // width: 100%

                &:not(.divider) {
                    height: auto
                }

                &:not(.has-form) a:not(.btn):not(.prd__link) {
                    display: block
                    font-size:$topbar-link-font-size
                    fontweight($topbar-dropdown-link-weight)
                    font_family($topbar-link-font-family)
                    line-height: 1.4
                    padding: $topbar-link-padding (2 * $topbar-link-padding)
                    text-transform: uppercase
                    white-space: nowrap

                    &.parent-link {
                        fontweight($topbar-link-weight)
                    }

                    &:not(.is-active) {
                        background-color: $topbar-dropdown-link-bg
                        color: check_contrast($topbar-dropdown-link-color, $topbar-bg-color)

                        &:hover {
                            if ($topbar-dropdown-link-bg-hover) {
                                background-color: $topbar-dropdown-link-bg-hover
                            } else {
                                background-color: $topbar-link-bg-hover
                            }
                            color: $topbar-dropdown-link-color-hover
                        }
                    }

                    .lbl--badge {
                        margin-{$default-float}: rem-calc(4)
                    }
                }

                &.title h5,
                &.parent-link {
                    // Back Button
                    font-size: $topbar-back-link-size
                    margin-bottom: 0
                    margin-top: 0
                    a {
                        color: check_contrast($topbar-link-color, $topbar-bg-color)
                        // line-height: $topbar-height / 2
                        display: block
                        &:hover {
                            background-color: transparent
                        }
                    }
                }
                &.has-form {
                    padding: rem-calc(8) $topbar-link-padding
                }

                .btn,
                button {
                    top: auto
                }
            }

            label {
                color: $topbar-dropdown-label-color
                font-size: $topbar-dropdown-label-font-size
                fontweight($topbar-dropdown-label-font-weight)
                margin-bottom: 0
                padding: rem-calc(8 $topbar-link-padding 2)
                text-transform: $topbar-dropdown-label-text-transform
            }
        }

            
    }// EOF - .topbar-section

    .js-generated {
        display: block
    }


    // Top Bar styles intended for screen sizes above the breakpoint.
    +mediaquery($topbar-media-query) {

        .topbar {

            .toggle-topbar {
                display: none
            }

            .logo-wrap {
                float: $default-float
            }
            .logo h1 a,
            .logo h2 a,
            .logo h3 a {
                display: block
                width: auto
            }

            .has-form > .button,
            .has-form > button { 
                padding-top: rem-calc(5)
                position: relative
                top: (($topbar-height - $topbar-input-height + rem-calc(-3)) / 2)
            }
        }
        // EOF - .topbar
        
        //desktop max row-width
        .contain-to-grid .topbar {
            margin: 0 auto
            margin-bottom: $topbar-margin-bottom
            max-width: $row-width-xlrg
            width: auto
        }
        
        .topbar-section {
            single-transition(none, 0, 0)
            {$default-float}: 0 !important

            > ul {
                > li {
                    .js-generated {
                        display: none
                    }
                }
            }

            .has-dropdown {
                if $topbar-arrows {
                    > a {
                        padding-{$opposite-direction}: ($topbar-link-padding + $topbar-link-dropdown-padding) !important
                        svg-background($file:'lm/00015-down.svg', $shapes:('polyline'), $stroke:$topbar-dropdown-toggle-color, $stroke-hover:$topbar-dropdown-toggle-color-hover, $stroke-width:$svg-stroke-width-small)
                    }
                }

                &.is-moved {
                    position: relative
                    > .dropdown {
                        topbar-hide-dropdown()
                    }
                }

                &.is-hover,
                &.is-hoveronly:hover {
                    > .dropdown {
                        topbar-show-dropdown()
                    }
                }
                > a:focus + .dropdown {
                    topbar-show-dropdown()
                }

                .dropdown li.has-dropdown {
                    > a {
                        if ($topbar-dropdown-arrows) {
                            padding-{$opposite-direction}: ($topbar-link-padding + $topbar-link-dropdown-padding) !important
                            svg-background($file: $arrow-opposite, $shapes:('polyline'), $stroke:$topbar-dropdown-toggle-color, $stroke-hover:$topbar-dropdown-toggle-color-hover, $stroke-width:$svg-stroke-width-small)
                        }
                    }
                }

            } // EOF - .has-dropdown

            // 2nd Level = Dropdowns
            .dropdown {
                min-width: 100%
                top: auto
                {$default-float}: 0

                li {

                    label {
                        if $topbar-dropdown-label-bg {
                            background-color: $topbar-dropdown-label-bg
                        }
                        white-space: nowrap
                    }

                    // 3rd Level Dropdowns
                    .dropdown {
                        top: 0
                        {$default-float}: 100%
                        shadow-elevation('submenu')
                    }
                }

            }

            .has-form {
                height: $topbar-height
                padding: 0 $topbar-link-padding
            }

            // Position overrides for ul.right and ul.left
            .{$opposite-direction} {
                li .dropdown {
                    {$default-float}: auto
                    {$opposite-direction}: 0

                    li .dropdown {
                        {$opposite-direction}: 100%
                    }
                }
            }
            .{$default-float} {
                li .dropdown {
                    {$opposite-direction}: auto
                    {$default-float}: 0

                    li .dropdown {
                        {$default-float}: 100%
                    }
                }
            }
        }
        // EOF - .topbar-section

        // Degrade gracefully when Javascript is disabled. Displays dropdown and changes
        // background & text color on hover.
        .no-js .topbar-section {
            ul li {
                // Apply the hover link color when it has that class
                &:hover > a {
                    
                    if ($topbar-link-bg-hover) {
                        background-color: $topbar-link-bg-hover
                    } else {
                        background-color: $topbar-link-bg-hover
                    }
                    color: $topbar-link-color-hover
                }

                // Apply the active link color when it has that class
                &:active > a {
                    background-color: $topbar-link-bg-active
                    color: $topbar-link-color-active
                }
            }

            .has-dropdown {
                &:hover {
                    > .dropdown {
                        topbar-show-dropdown()
                    }
                }
                > a:focus + .dropdown {
                    topbar-show-dropdown()
                }
            }
        }

    } // EOF - media topbar-media-query

    // for extra large desktops
    if $include-xl-html-grid-classes {
        +mediaquery($xxlarge-up) {
            .contain-to-grid .topbar {
                max-width: $row-width-xxlrg
            }
        }
    }

} // EOF - if $include-html-topbar-classes